"use strict";var app=angular.module("wheredoesmymoneygo",["ngRoute","ui.bootstrap"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{controller:"MainCtrl",templateUrl:"/templates/main.html",reloadOnSearch:!1}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]);var data={"Zdravstveno varstvo":104849156,"Podjetništvo in konkurenčnost":311820684,Kultura:201398119,"Izobraževanje in šport":1441488039,"Institucije političnega sistema in civilne družbe":88732501,"Institucije pravne drŽave, svobode in varnosti":275866175,"Upravljanje sistemov javne uprave":512932734,"Visoko šolstvo, znanost, tehnologija in informacijska druŽba":709184932,Energetika:70795363,"Trg dela":373341291,"Kmetijstvo, gozdarstvo, ribištvo in prehrana":457869797,"Promet in prometna infrastruktura":708520360,"Servisiranje javnega dolga, plačila v evropsko unijo in rezerve":251691657,"Nacionalna varnost, obramba in zunanje zadeve":928753962,"Socialna varnost":2451905070,"Okoljska in prostorska politika":355595154};app.controller("MainCtrl",["$scope",function(a){a.grossWage=null,a.taxBase=null,a.netWage=null,a.taxAmount=null,a.pizAmount=null,a.zzAmount=null,a.svAmount=null,a.jobSecurityAmount=null,a.taxCategoriesAmounts={},a.isInitialPageShown=!0,a.isTaxPageCategoriesPageShown=!1,a.calculatePIZ=function(a){return.155*a},a.calculateZZ=function(a){return.0636*a},a.calculateSV=function(a){return.001*a},a.calculateJobSecurity=function(a){return.0014*a},a.calculateTaxRelief=function(a){var b=null;return 10866.37>=a?b=6519.82:a>10866.37&&12570.89>=a?b=4481.64:a>12570.89&&(b=3302.7),b},a.calculateTaxBase=function(b){var c=12*b;return c-a.calculatePIZ(c)-a.calculateZZ(c)-a.calculateSV(c)-a.calculateJobSecurity(c)-a.calculateTaxRelief(c)},a.calculateYearlyTax=function(a){var b=null;return 8021.34>=a?b=.16*a:a>8021.34&&18960.28>=a?b=1283.41+.27*(a-8021.34):a>18960.28&&70907.2>=a?b=4236.92+.41*(a-18960.28):a>70907.2&&(b=25535.16+.5*(a-70907.2)),b},a.calculateTaxCategories=function(a){var b={},c=0,d=null;for(d in data)data.hasOwnProperty(d)&&(c+=data[d]);for(d in data)data.hasOwnProperty(d)&&(console.log(c/data[d]),b[d]=a*(data[d]/c));return b},a.calculateAmounts=function(){if(a.grossWage){var b=a.calculateTaxBase(a.grossWage);a.taxAmount=a.calculateYearlyTax(b)/12,a.pizAmount=a.calculatePIZ(a.grossWage),a.zzAmount=a.calculateZZ(a.grossWage),a.svAmount=a.calculateSV(a.grossWage),a.jobSecurityAmount=a.calculateJobSecurity(a.grossWage),a.netWage=a.grossWage-a.taxAmount-a.pizAmount-a.zzAmount-a.svAmount-a.jobSecurityAmount,a.taxCategoriesAmounts=a.calculateTaxCategories(a.taxAmount)}},a.showInitialPage=function(){a.isInitialPageShown=!0,a.isTaxPageCategoriesPageShown=!1},a.showTaxPageCategorized=function(){a.isInitialPageShown=!1,a.isTaxPageCategoriesPageShown=!0}}]);